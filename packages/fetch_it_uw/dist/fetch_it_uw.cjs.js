"use strict";var m=Object.defineProperty;var w=(r,t,o)=>t in r?m(r,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[t]=o;var p=(r,t,o)=>w(r,typeof t!="symbol"?t+"":t,o);const T=r=>{const t={};return Object.keys(r).map(i=>{r[i]&&(t[i]=r[i])}),new URLSearchParams(t).toString()},E=({base_url:r,authorization:t})=>{const o=async(a,{headers:e,params:n,body:s,...l})=>{n&&(a+="?"+T(n));const c=new Headers(e);s instanceof FormData||(c.append("content-type","application/json"),s=JSON.stringify(s)),r&&(a=r+a),t&&c.append("authorization",t);const u=await fetch(a,{...l,headers:c,body:s}),f=await u.json(),h={...u,data:f};if(!u.ok)throw h;return h},i={url:void 0,params:null,body:void 0};class d{constructor(e){p(this,"url");this.url=e}get({url:e=this.url,params:n}={url:void 0,params:null}){return o(e,{method:"GET",params:n})}post({body:e,url:n=this.url,params:s}=i){return o(n,{method:"POST",body:e,params:s})}put({url:e=this.url,body:n,params:s}=i){return o(e,{method:"PUT",body:n,params:s})}delete({body:e,url:n=this.url,params:s}=i){return o(n,{method:"DETELE",body:e,params:s})}patch({body:e,url:n=this.url,params:s}=i){return o(n,{method:"PATCH",body:e,params:s})}}return d};module.exports=E;

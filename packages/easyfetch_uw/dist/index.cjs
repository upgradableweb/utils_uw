"use strict";var f=Object.defineProperty;var w=(o,s,n)=>s in o?f(o,s,{enumerable:!0,configurable:!0,writable:!0,value:n}):o[s]=n;var p=(o,s,n)=>w(o,typeof s!="symbol"?s+"":s,n);const T=require("./params.cjs"),E=({base_url:o,authorization:s})=>{const n=async(a,{headers:t,params:e,body:r,...l})=>{e&&(a+="?"+T(e));const c=new Headers(t);r instanceof FormData||(c.append("content-type","application/json"),r=JSON.stringify(r)),o&&(a=o+a),s&&c.append("authorization",s);const u=await fetch(a,{...l,headers:c,body:r}),m=await u.json(),h={...u,data:m};if(!u.ok)throw h;return h},i={url:void 0,params:null,body:void 0};class d{constructor(t){p(this,"url");this.url=t}get({url:t=this.url,params:e}={url:void 0,params:null}){return n(t,{method:"GET",params:e})}post({body:t,url:e=this.url,params:r}=i){return n(e,{method:"POST",body:t,params:r})}put({url:t=this.url,body:e,params:r}=i){return n(t,{method:"PUT",body:e,params:r})}delete({body:t,url:e=this.url,params:r}=i){return n(e,{method:"DETELE",body:t,params:r})}patch({body:t,url:e=this.url,params:r}=i){return n(e,{method:"PATCH",body:t,params:r})}}return d};module.exports=E;
